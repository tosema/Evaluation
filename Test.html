<div id="" style="min-height: 480px; 
    width: 100vw;
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 99999;
    font-family: Arial, sans-serif;">
    <div id="" style="position: absolute; 
        top: 50%; 
        left: 50%; 
        transform: translate(-50%, -50%);
        text-align: center;">
        <div style="width: 35px; 
            height: 35px; 
            border: 4px solid rgba(0, 0, 0, 0.1); 
            border-top: 4px solid #555; 
            border-radius: 50%; 
            animation: spin 1s linear infinite; 
            margin: 0 auto;">
        </div>
        <p id="loading-text" style="margin-top: 15px; font-size: 16px; color: #333;">
            لطفاً منتظر بمانید...
        </p>
    </div>
    <script>
      // تابع برای دریافت مقدار پارامتر از URL
      function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
      }

      // دریافت مقدار id از پارامتر URL
      const id = getQueryParam('id') || 'defaultId';

      // تنظیم id بر روی عناصر
      const container = document.querySelector('div[style]');
      container.id = id;

      const loadingDiv = container.querySelector('div > div');
      loadingDiv.id = `porsline-loading-${id}`;

      // ایجاد انیمیشن و استایل به صورت پویا
      const styleSheet = document.createElement('style');
      styleSheet.innerHTML = `
        @keyframes spin-${id} {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        /* استایل‌های عمومی */
        #${id} {
          font-size: 16px; /* اندازه متن پیش‌فرض */
        }

        /* استایل‌های ریسپانسیو */
        @media (max-width: 768px) {
          #${id} {
            font-size: 18px; /* بزرگ‌تر کردن فونت برای تبلت */
          }
          #porsline-loading-${id} {
            width: 45px;
            height: 45px;
          }
          #loading-text {
            font-size: 20px; /* فونت درشت‌تر برای متن لودینگ */
          }
        }

        @media (max-width: 480px) {
          #${id} {
            font-size: 20px; /* فونت درشت‌تر برای موبایل */
          }
          #porsline-loading-${id} {
            width: 50px;
            height: 50px;
          }
          #loading-text {
            font-size: 24px; /* متن خیلی درشت برای موبایل */
          }
        }
      `;
      document.head.appendChild(styleSheet);

      // افزودن اسکریپت دینامیک
      const script = document.createElement('script');
      script.type = 'text/javascript';
      script.fetchPriority = 'high';      
      script.onload = function() {
        loadingDiv.style.display = 'none';
        document.getElementById("loading-text").innerText = "محتوا بارگذاری شد!";
      };
      script.src = `https://survey.porsline.ir/embed/eyJib3JkZXIiOiJub25lIiwid2lkdGgiOiIxMDAlIiwiaGVpZ2h0IjoiMTAwJSJ9/${id}`+'sv';
      container.appendChild(script);
    </script>
</div>
